# Техническая документация на ендпоинты категории **auth**

## POST /auth/token

### Описание
Данный ендпоинт проводит авторизацию пользователя по email и паролю.

Успешность авторизации определяется на стороне бэкенда в процессе валидации переданных email и пароля.

В случае успеха возвращается пара JWT токенов и первичные данные о пользователе:
- **Access токен** — для доступа к защищенным эндпоинтам (короткоживущий)
- **Refresh токен** — для обновления access токена (долгоживущий)
- **Email** — текущий email для авторизации
- **User_id** — уникальный числовой идентификатор пользователя
- **Group** — группа, к которой относится пользователь (guest, user, admin, etc)

### Требования
- Учетная запись должна быть активной и подтверждённой
- Email и пароль должны соответствовать зарегистрированному пользователю

### Поля запроса
| Поле | Тип | Обязательное | Описание |
|------|-----|-------------|----------|
| `primary_email` | string | Да | Email пользователя |
| `password` | string | Да | Пароль пользователя |

## POST /auth/token/refresh

### Описание
Данный ендпоинт выдаёт авторизованному пользователю новый access token. Чтобы получить новый токен необходимо передать в бэкенд текущий refresh token.

В случае успеха возвращается пара JWT токенов и первичные данные о пользователе:
- **Access токен** — для доступа к защищенным эндпоинтам (короткоживущий)
- **Refresh токен** — для обновления access токена (долгоживущий)

### Поля запроса
| Поле | Тип | Обязательное | Описание |
|------|-----|-------------|----------|
| `refresh` | string | Да | Корректный refresh token пользователя |


## POST /auth/token/verify

### Описание
Данный ендпоинт проверяет структурную целостность переданного токена (как refresh, так и access). Выдаёт пустой ответ, если верификация пройдена и 401 ошибку, если сигнатура токена неверна.

В случае ошибки возвращается сообщение об ошибке со статусом 401, в случае успеха - код 200 и пустое тело.

### Поля запроса
| Поле | Тип | Обязательное | Описание |
|------|-----|-------------|----------|
| `token` | string | Да | refresh или access token пользователя |
